<body class="fixed-nav sticky-footer bg-dark" id="page-top">
  <div class="content-wrapper">
    <div class="container-fluid">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="#"></a>
        </li>
        <li>Creation du projet</li>
      </ol>

      <h1 style="text-align: center;">Objectifs</h1>
      <br>

      <form (ngSubmit)="onSubmit(fo)" #fo="ngForm">
        <div class="row2 col-xl-4 col-sm-8 mb-42" class="active">
          <div class="card-header" style="background-color: rgb(180,180,180);"><strong>Objectifs</strong></div>
            <table class="table table-striped table-bordered">

              <thead>
                <tr>
                  <th>Libelle</th>
                  <th>Description</th>
                  <th>Leviers</th>
                  <th>Enjeux</th>
                  <th>Action</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let field1 of objectifsFields; let i = index">
                  <td>
                    <input [(ngModel)]="field1.ObjectifLibelle" [ngModelOptions]="{standalone: true}" class="form-control" type="text" name="{{ field1.ObjectifLibelle }}" />
                  </td>
                  <td>
                    <input [(ngModel)]="field1.ObjectifDescription" [ngModelOptions]="{standalone: true}" class="form-control" type="text" name="{{ field1.ObjectifDescription }}" />
                  </td>
                  <td>
                    <!-- <select [(ngModel)]="field1.LevierLibelle" [ngModelOptions]="{standalone: true}" class="form-control" type="text" name="{{ field1.LevierLibelle }}">
                      <option >Commercial</option>
                      <option>RH</option>
                      <option>Financier</option>
                      <option>Organisationnel</option>
                      <option>Communication</option>
                    </select> -->

                    <div class="dropdown" dropdown is-open="myNavDropdown.isopen">
                      <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" >
                        Leviers Associés
                      </button>
                      <ul class="dropdown-menu" role="menu">
                        <li class="dropdown-item" *ngFor="let item of leviersFields" (click)="$event.stopPropagation()">{{ item.LevierLibelle }}</li>
                      </ul>
                    </div>
                  </td>
                  <td>
                    <div class="dropdown" dropdown is-open="myNavDropdown.isopen">
                      <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" >
                        Enjeux Associés
                      </button>
                      <ul class="dropdown-menu" role="menu">
                        <li class="dropdown-item" *ngFor="let item of enjeusFields" (click)="$event.stopPropagation()">{{ item.EnjeuLibelle }}</li>
                      </ul>
                    </div>
                  </td>
                  <td>
                    <button class="btn btn-danger mb-2"  type="button" (click)="deleteFieldValueObj(i, objectifsFields, field1.id)">-</button>
                  </td>
                </tr>

                <tr>
                  <td>
                    <input class="form-control" type="text" id="newAttributeCode" [(ngModel)]="newAttribute.ObjectifLibelle" name="newLibelleObj" />
                  </td>
                  <td>
                    <input class="form-control" type="text" id="newAttributePrice" [(ngModel)]="newAttribute.ObjectifDescription" name="newDescriptionObj" />
                  </td>
                  <td>
                    <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" >
                      Leviers Associés
                    </button>
                    <ul class="dropdown-menu" role="menu">
                      <li class="dropdown-item" *ngFor="let item of leviersFields" (click)="$event.stopPropagation()">
                        <div class="form-check form-check-inline">
                          <label class="form-check-label" for="{{ i }} + {{ item.LevierLibelle }}"><input class="form-check-input" type="checkbox" value="{{ item.id }}" id="{{ i }} + {{ item.LevierLibelle }}" (change)="changeLev($event, item, field1)"/>{{ item.LevierLibelle }}</label>
                        </div>

                      </li>
                    </ul>
                  </td>
                  <td>
                    <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" >
                      Enjeux Associés
                    </button>
                    <ul class="dropdown-menu" role="menu">
                      <li class="dropdown-item" *ngFor="let item of enjeusFields" (click)="$event.stopPropagation()">
                        <div class="form-check form-check-inline">
                          <label class="form-check-label" for="{{ i }} + {{ item.EnjeuLibelle }}" ><input class="form-check-input" type="checkbox" value="{{ item.id }}" id="{{ i }} + {{ item.EnjeuLibelle }}" (change)="changeEnj($event, item, field1)"/>{{ item.EnjeuLibelle }}</label>
                        </div>

                      </li>
                    </ul>
                  </td>
                  <td>
                    <button style="margin-right: 10px" class="btn btn-primary mb-2" type="button" (click)="addFieldValueObj(objectifsFields,fo)">+</button>
                    <button type="submit" class="btn btn-primary mb-2">Valider</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </form>

        <p></p>

        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-end">
            <li class="page-item"><a class="page-link" routerLink ="/admin/creation/enjeux">Revenir aux <em>Enjeux</em></a></li>
            <li class="page-item"><a class="page-link" routerLink ="/admin/creation/fonction">Passer aux <em>Fonctionnalités</em></a></li>
          </ul>
        </nav>

        <a class="scroll-to-top rounded" href="#page-top">
          <i class="fa fa-angle-up"></i>
        </a>
      </div>
    </div>

  </body>
  <router-outlet></router-outlet>
